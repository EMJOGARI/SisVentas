-------------------------------------------------------------------
http://youtube.com/watch?reload=9&v=7T80LZR850o
-------------------------------------------------------------------
agregar fecha creacion a la base de datos en persona
eliminar el campo codigo de la tabla articulo en la bd
-------------------------------------------------------------------
-------------------------------------------------------------------
https://github.com/fxcosta/laravel-chartjs
https://appdividend.com/2017/07/13/add-charts-laravel-using-chartjs/

https://dev.to/arielsalvadordev/use-laravel-charts-in-laravel-5bbm
-------------------------------------------------------------------
/*select v.idventa, v.idcliente, v.serie_comprobante, v.total_venta
	,(select nd.total_debito from tb_nota_debito as nd where v.idventa = nd.idventa and nd.estado = 'Activo')
	,(v.total_venta - (select total_debito from tb_nota_debito where v.idventa = idventa and estado = 'Activo')) as monto_pagar
from tb_venta as v
where v.estado <> 'Eliminada' and v.estado <> 'Anulada'
order by v.idventa desc*/

select *
from tb_venta as v
FULL OUTER JOIN tb_nota_debito as nd on nd.idventa = v.idventa 
-------------------------------------------------------------------
POSGRETS SQL FUNCIONES
wewe

http://www.postgresqltutorial.com/postgresql-extract/
-------------------------------------------------------------------
-------------------------------------------------------------------

The Kingâ€™s Avatar
https://www6.doramasmp4.com/the-kings-avatar-capitulo-1/?fbclid=IwAR3VMApRxkcykFBC9gyppBQYrUN5gUV2EXy8RDAJzz91QcX-QXehkJ_W2yk
https://www.mundodonghua.com/ver/quan-zhi-gao-shou-all-star/3

Afro zamurai
ouanzhi gaoshou
Radian // radian season 2
assassins pride
fairy gone
noragami
crhome shelled regios
desetsu no yuusha
trigun
 Campione
Tales of Zestiria the X
-------------------------------------------------------------------
COMPRAS POR CLIENTES
-------------------------------------------------------------------
SELECT i.idcliente,di.idarticulo, a.nombre, c.nombre, SUM(cantidad), SUM(cantidad * precio_venta)
FROM tb_venta AS i
JOIN tb_detalle_venta AS di ON di.idventa = i.idventa
JOIN tb_articulo AS a ON a.idarticulo = di.idarticulo
JOIN tb_categoria AS c ON c.idcategoria = a.idcategoria
WHERE i.estado = 'Pagada' and c.idcategoria = 6
GROUP BY i.idcliente,di.idarticulo, a.nombre, c.nombre
ORDER BY i.idcliente
-------------------------------------------------------------------
PARA UPDATEAR TODOS LOS CAMPOS D ELA BD
-------------------------------------------------------------------
CREATE OR REPLACE FUNCTION cargar_bd()
RETURNS void AS
$BODY$BEGIN
	for i in 1..130 loop
		UPDATE tb_ingreso   
		SET total_compra = (select SUM(cantidad * precio_compra) from tb_detalle_ingreso WHERE idingreso = i)
		WHERE idingreso = i;
	end loop;
END;$BODY$
LANGUAGE 'plpgsql' VOLATILE;

select cargar_bd(); --PARA CARGAR LOS CAMPOS
-------------------------------------------------------------------
CONSULTAR BD TOTAL INGRESO
-------------------------------------------------------------------
SELECT SUM(total_compra) as total, EXTRACT(MONTH FROM fecha_hora) as mes, to_char(fecha_hora, 'TMMonth') as nombre
FROM tb_ingreso
WHERE estado = 'A' AND EXTRACT(YEAR FROM fecha_hora) = 2019
GROUP BY EXTRACT(MONTH FROM fecha_hora),nombre 
ORDER BY  mes
------------------------------------------------------------------------------------
------------------------------------------------------------------------------------
/*Articulos no vendidos*/
select *
from tb_articulo
where stock > 0 and estado = 'Activo' and idarticulo not in (select dv.idarticulo
						from tb_detalle_venta as dv
						join tb_venta as v on v.idventa = dv.idventa
						join tb_articulo as a on a.idarticulo = dv.idarticulo
						where v.fecha_hora >= '2019-09-01' and v.fecha_hora <= '2019-09-30' and v.estado <> 'Anulada' and v.estado <> 'Eliminada'					
					      )
order by idarticulo
------------------------------------------------------------------------------------
------------------------------------------------------------------------------------
/*Articulos mas vendidos*/
select dv.idarticulo,a.nombre,sum(cantidad) as cantidad
from tb_detalle_venta as dv
join tb_venta as v on v.idventa = dv.idventa
join tb_articulo as a on a.idarticulo = dv.idarticulo
join tb_categoria as c on c.idcategoria = a.idcategoria
where v.fecha_hora >= '2019-09-01' and v.estado <> 'Anulada' and v.estado <> 'Eliminada'

group by dv.idarticulo,a.nombre
order by cantidad desc
------------------------------------------------------------------------------------
------------------------------------------------------------------------------------



https://aprendible.com/series/laravel-excel
